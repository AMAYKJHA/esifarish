<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Approve or Discard Applications</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <body style="background: #ffd6e0;">
    <header>
      <h1>Application Requests</h1>
      <a href="admin-dashboard.html">
        <button>← Back to Dashboard</button>
      </a>
      <nav>
        <a href="admin-dashboard.html">🏠 Dashboard</a> |
        <a href="backend/applications.php">📄 Applications</a> |
        <a href="logout.php">🚪 Logout</a>
      </nav>
    </header>

    <main>
      <section>
        <h2>Pending Applications</h2>

        <!-- Application Card Example -->
        <div class="application-card">
          <h3>Applicant: Ram Bahadur</h3>
          <p>Type: नागरिकता सिफारिस</p>
          <p>Date Applied: 2025-07-27</p>
          <button class="approve-btn">Approve</button>
          <button class="discard-btn">Discard</button>
        </div>

        <!-- You can have multiple such cards dynamically loaded -->
      </section>
    </main>

    <script>
      // JavaScript to handle click events (mock)
      document.querySelectorAll(".approve-btn").forEach((btn) => {
        btn.onclick = () => alert("Application Approved");
      });

      document.querySelectorAll(".discard-btn").forEach((btn) => {
        btn.onclick = () => alert("Application Discarded");
      });
      <!--Example using Node.js & nodemailer-->
      const nodemailer = require("nodemailer");

      async function sendApprovalEmail(userEmail, requestId) {
        let transporter = nodemailer.createTransport({
          service: "gmail",
          auth: {
            user: "your-email@gmail.com",
            pass: "your-email-password",
          },
        });

        let info = await transporter.sendMail({
          from: '"Ward Office" <your-email@gmail.com>',
          to: userEmail,
          subject: "Request Approved",
          text: `Your request #${requestId} has been approved by the admin.`,
        });

        console.log("Message sent: %s", info.messageId);
      }
    </script>
  </body>
</html>
